import{u as Q,Q as q}from"./myPythonStore.1880e835.js";import{Q as x,a as R}from"./QBtnDropdown.39b00a96.js";import{Q as B,n as E,o as V}from"./focus-manager.190316ac.js";import{Q as w}from"./QCardSection.f9a1e202.js";import{Q as k}from"./QCard.926b675a.js";import{B as A,m as P,c as M,r as g,i as N,a as u,h as D,T as W,w as j,R as l,Z as h,V as c,U as v,S as m,a7 as S,$ as F,aa as p,W as d,_ as U,a6 as _,ab as H,ac as Y,ad as I,Y as Z}from"./index.5d02a9f5.js";import{c as z,h as G}from"./render.3f90afce.js";import{_ as C}from"./plugin-vue_export-helper.e124aed7.js";import{u as J}from"./formDataStore.96e50659.js";import"./axios.37d53be1.js";import"./QBtn.122f6aa9.js";const L={threshold:0,root:null,rootMargin:"0px"};function T(e,a,n){let t,r,i;typeof n=="function"?(t=n,r=L,i=a.cfg===void 0):(t=n.handler,r=Object.assign({},L,n.cfg),i=a.cfg===void 0||P(a.cfg,r)===!1),a.handler!==t&&(a.handler=t),i===!0&&(a.cfg=r,a.observer!==void 0&&a.observer.unobserve(e),a.observer=new IntersectionObserver(([o])=>{if(typeof a.handler=="function"){if(o.rootBounds===null&&document.body.contains(e)===!0){a.observer.unobserve(e),a.observer.observe(e);return}(a.handler(o,a.observer)===!1||a.once===!0&&o.isIntersecting===!0)&&O(e)}},r),a.observer.observe(e))}function O(e){const a=e.__qvisible;a!==void 0&&(a.observer!==void 0&&a.observer.unobserve(e),delete e.__qvisible)}var K=A({name:"intersection",mounted(e,{modifiers:a,value:n}){const t={once:a.once===!0};T(e,t,n),e.__qvisible=t},updated(e,a){const n=e.__qvisible;n!==void 0&&T(e,n,a.value)},beforeUnmount:O}),X=M({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(e,{slots:a,emit:n}){const t=g(N.value===!0?e.ssrPrerender:!1),r=u(()=>e.root!==void 0||e.margin!==void 0||e.threshold!==void 0?{handler:f,cfg:{root:e.root,rootMargin:e.margin,threshold:e.threshold}}:f),i=u(()=>e.disable!==!0&&(N.value!==!0||e.once!==!0||e.ssrPrerender!==!0)),o=u(()=>[[K,r.value,void 0,{once:e.once}]]),s=u(()=>`--q-transition-duration: ${e.transitionDuration}ms`);function f(b){t.value!==b.isIntersecting&&(t.value=b.isIntersecting,e.onVisibility!==void 0&&n("visibility",t.value))}function y(){if(t.value===!0)return[D("div",{key:"content",style:s.value},G(a.default))];if(a.hidden!==void 0)return[D("div",{key:"hidden",style:s.value},a.hidden())]}return()=>{const b=e.transition?[D(W,{name:"q-transition--"+e.transition},y)]:y();return z(e.tag,{class:"q-intersection"},b,"main",i.value,()=>o.value)}}});const $={props:{NFT_List:{type:Array,default:()=>[]}},setup(e){const a=g(""),n=g(!1),t=g([]);return j(()=>e.NFT_List,()=>{const s=new Set;e.NFT_List&&e.NFT_List.length>0&&e.NFT_List.forEach(f=>{Object.keys(f.MiningRewards||{}).forEach(y=>s.add(y))}),t.value=Array.from(s),a.value=t.value[t.value.length-1]||""},{immediate:!0}),{currentDate:a,dropdownOpen:n,availableDates:t,onItemClick:s=>{a.value=s,n.value=!1},rewardDate:s=>new Date(s).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}}},ee=e=>(H("data-v-6640d6d4"),e=e(),Y(),e),te=ee(()=>d("div",{class:"outposts-header text-h4"},null,-1)),ae={class:"container row justify-center q-gutter-sm"},oe=["src"],ne={class:"text-h7 q-mt-sm q-mb-xs text-weight-bold"},se={class:"text-caption text-black"},re={key:0},ie={class:"text-caption text-black"},le={class:"text-caption text-black"},ce={key:0,class:"text-caption text-black"},de={key:1,class:"text-caption text-black"},ue={key:1};function _e(e,a,n,t,r,i){return l(),h(k,{class:"my-outposts",flat:""},{default:c(()=>[v(w,null,{default:c(()=>[te,n.NFT_List.length>0?(l(),h(x,{key:0,label:t.currentDate?t.rewardDate(t.currentDate):"Select Date",color:"primary",modelValue:t.dropdownOpen,"onUpdate:modelValue":a[0]||(a[0]=o=>t.dropdownOpen=o)},{default:c(()=>[v(B,null,{default:c(()=>[(l(!0),m(F,null,S(t.availableDates,(o,s)=>(l(),h(E,{key:s,clickable:"",onClick:f=>t.onItemClick(o)},{default:c(()=>[v(V,null,{default:c(()=>[v(R,null,{default:c(()=>[U(_(t.rewardDate(o)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["label","modelValue"])):p("",!0),d("div",ae,[(l(!0),m(F,null,S(n.NFT_List,(o,s)=>(l(),h(X,{key:s,once:"",transition:"scale",class:"card"},{default:c(()=>[d("div",null,[v(k,{flat:"",bordered:"",class:"q-ma-sm"},{default:c(()=>[d("img",{src:o.Image,"fixed-centre":"",class:"image",alt:"Outpost Image"},null,8,oe),v(w,null,{default:c(()=>[d("div",ne,_(o.Outpost_ID),1),d("div",se,"Faction: "+_(o.Faction),1),t.currentDate?(l(),m("div",re,[d("div",ie,"Mining: "+_(o.MiningRewards[t.currentDate]||"N/A")+" ada",1),d("div",le,"$Derp: "+_(o.DerpRewards||"N/A")+" / epoch",1),o.EcosystemFees&&o.EcosystemFees[t.currentDate]&&o.EcosystemFees[t.currentDate]!==""?(l(),m("div",ce,"Ecosystem fees: "+_(o.EcosystemFees[t.currentDate]||"N/A")+" ada",1)):p("",!0),o.Royalties&&o.Royalties[t.currentDate]&&o.Royalties[t.currentDate]!==""?(l(),m("div",de,"Royalties: "+_(o.Royalties[t.currentDate]||"N/A")+" ada",1)):p("",!0)])):(l(),m("div",ue,"No rewards data available for selected date."))]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))])]),_:1})]),_:1})}var ve=C($,[["render",_e],["__scopeId","data-v-6640d6d4"]]);const me={components:{CompWalletOutposts:ve},setup(){const e=Q(),a=J(),n=u(()=>a.getAddress),t=g([]),r=u(()=>t.value[2]),i=u(()=>t.value[3]),o=u(()=>t.value.slice(4));return I(()=>{n.value&&(console.log("Address changed:",n.value),e.fetchPost())}),I(()=>{t.value=e.pythonResponse,console.log("posts updated:",t.value),console.log("Reward_Data in parent:",r.value),console.log("Overview_Data in parent:",i.value),console.log("NFT_List in parent:",o.value)}),{formDataStore:a,address:n,posts:t,Reward_Data:r,Overview_Data:i,NFT_List:o}}},fe=d("div",{class:"page-outposts-header text-h4"},"My Outposts",-1),he=d("div",{class:"page-outposts-subheader caption"},"See more details for each NFT",-1),ge={class:"q-pa-md container"};function ye(e,a,n,t,r,i){const o=Z("comp-wallet-outposts");return l(),h(q,null,{default:c(()=>[fe,he,d("div",ge,[v(o,{NFT_List:t.NFT_List},null,8,["NFT_List"])])]),_:1})}var Ce=C(me,[["render",ye]]);export{Ce as default};
